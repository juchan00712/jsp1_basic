<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  	   
  <mapper namespace="tblproduct">
  	<!-- productAll -->
  	<select id="productAll" resultType="ProductDto">
  		SELECT * FROM TBL_PRODUCT ORDER BY PRICE ASC
  	</select>
  	
  	<!-- insert, update, delete는 리턴타입 지정안합니다.(그래도 값은 리턴해 줍니다.) -->
  	<insert id="insert" parameterType="ProductDto">
  		INSERT INTO TBL_PRODUCT
  			VALUES(#{PCODE},#{CATEGORY},#{PNAME},#{PRICE})
  	</insert>
  	
  	<!-- getPriceTable -->
  	<select id="getPriceTable" parameterType="java.util.Map">
  		SELECT PCODE,PRICE FROM TBL_PRODUCT
  	</select>
  	
  	<!-- selectByPname -->
  	<select id="selectByPname" resultType="ProductDto">
  		SELECT * FROM TBL_PRODUCT
  		WHERE PNAME LIKE '%' || #{pname} || '%'
  		ORDER BY CATEGORY
  	</select>
  	
  	<!-- selectByCategory -->
  	<select id="selectByCategory" resultType="ProductDto">
  		SELECT * FROM TBL_PRODUCT
  		WHERE CATEGORY = #{category}
  		ORDER BY PNAME
  	</select>
  	
  </mapper>